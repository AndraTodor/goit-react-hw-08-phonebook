"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[929],{929:(e,s,t)=>{t.r(s),t.d(s,{default:()=>N});var n=t(420),a=t(705),r=t(7),l=t(791),c=t(634),d=t(218),o=t(184);const m=()=>{const e=(0,n.I0)(),s=(0,l.useId)(),t=(0,l.useId)(),m=r.Ry().shape({name:r.Z_().min(3,"Too Short!").max(50,"Too Long!").required("Required!"),number:r.Rx().min(7,"Too Short!").required("Required!").typeError("Enter phone-number!")});return(0,o.jsx)(a.J9,{initialValues:{name:"",number:""},onSubmit:(s,t)=>{var n;n=s,e((0,c.uK)(n)).unwrap().then((()=>{d.ZP.success("Contact added successfully!")})),t.resetForm()},validationSchema:m,children:(0,o.jsxs)(a.l0,{className:"space-y-6 bg-white p-6 shadow-md rounded-lg",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:s,className:"block mb-1 text-gray-600",children:"Name"}),(0,o.jsx)(a.gN,{type:"text",name:"name",id:s,className:"w-full border border-gray-300 p-2 rounded"}),(0,o.jsx)(a.Bc,{name:"name",component:"span",className:"text-red-500 text-sm"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:t,className:"block mb-1 text-gray-600",children:"Phone"}),(0,o.jsx)(a.gN,{type:"tel",name:"number",id:t,className:"w-full border border-gray-300 p-2 rounded"}),(0,o.jsx)(a.Bc,{name:"number",component:"span",className:"text-red-500 text-sm"})]}),(0,o.jsx)("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition",children:"Add Contact"})]})})};var i=t(236);const u=e=>{let{name:s,phone:t,deleteContacts:n,id:a}=e;return(0,o.jsxs)("li",{className:"flex justify-between items-center p-4 bg-white shadow-md rounded-lg mb-3",children:[(0,o.jsxs)("div",{className:"flex space-x-4 items-center",children:[(0,o.jsx)(i.Bmn,{className:"text-gray-500",size:"24"}),(0,o.jsx)("p",{className:"font-medium",children:s})]}),(0,o.jsxs)("div",{className:"flex space-x-4 items-center",children:[(0,o.jsx)(i.MdO,{className:"text-gray-500",size:"20"}),(0,o.jsx)("p",{children:t})]}),(0,o.jsx)("button",{type:"button",className:"bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600 transition",onClick:()=>n(a),children:"Delete"})]})};var x=t(553);const h=e=>e.filters.name,p=e=>e.contacts,b=(0,x.P1)([e=>e.contacts.items,h],((e,s)=>e.filter((e=>e.name.toLowerCase().includes(s.toLowerCase()))))),j=()=>{const e=(0,n.I0)(),s=(0,n.v9)(b);if(0!==s.length)return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("ul",{className:"space-y-3",children:s.map((s=>{let{id:t,name:n,number:a}=s;return(0,o.jsx)(u,{id:t,name:n,phone:a,deleteContacts:s=>{e((0,c.GK)(s)).unwrap().then((()=>d.ZP.success("Contact deleted successfully!")))}},t)}))}),(0,o.jsx)(d.x7,{})]})};var g=t(548);const y=()=>{const e=(0,l.useId)(),s=(0,n.I0)(),t=(0,n.v9)(h);return(0,o.jsxs)("div",{className:"space-y-3",children:[(0,o.jsx)("label",{htmlFor:e,className:"block text-gray-600",children:"Find contacts by name"}),(0,o.jsx)("input",{type:"text",name:"search",id:e,value:t,onChange:e=>{return t=e.target.value,void s((0,g.h)(t));var t},className:"w-full border border-gray-300 p-2 rounded"})]})},N=()=>{const e=(0,n.I0)(),{items:s,loading:t,error:a}=(0,n.v9)(p);return(0,l.useEffect)((()=>{e((0,c.yF)()).unwrap().then((()=>{d.ZP.success("Phonebook loaded successfully!")}))}),[e]),(0,o.jsxs)(o.Fragment,{children:[t&&(0,o.jsx)("h2",{children:"Loading..."}),a&&(0,o.jsx)("h2",{children:a}),(0,o.jsx)(d.x7,{}),(0,o.jsx)(m,{}),(0,o.jsx)(y,{}),s.length>0?(0,o.jsx)(j,{}):(0,o.jsx)("p",{children:"You don't have contacts yet!"})]})}}}]);
//# sourceMappingURL=929.3ede5ecf.chunk.js.map